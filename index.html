<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy New Year â€” Mobile Greeting</title>
  <style>
    :root{
      --bg:#0b1020;
      --card:#0f1724;
      --accent:#ff5c4d;
      --text:#eef2ff;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071026 0%, #0b1020 60%);color:var(--text);}
    .screen{display:none;height:100vh;width:100vw;align-items:center;justify-content:center;padding:18px;box-sizing:border-box}
    .active{display:flex}

    /* Firecracker / landing */
    .landing{flex-direction:column;gap:18px;text-align:center}
    .title{font-size:20px;font-weight:700}
    .sub{font-size:13px;opacity:.9}

    /* big round button */
    .blast-btn{background:linear-gradient(135deg,var(--accent),#ffb399);border:none;border-radius:50%;width:120px;height:120px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:16px;box-shadow:0 10px 25px rgba(0,0,0,.4);cursor:pointer}
    .blast-btn:active{transform:scale(.98)}
    .hint{font-size:12px;opacity:.85}

    /* canvas overlay for fireworks */
    #fx{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:40}

    /* content card: picture + message side-by-side on mobile */
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));backdrop-filter: blur(6px);border-radius:12px;padding:12px;width:100%;max-width:680px;box-shadow: 0 8px 30px rgba(2,6,23,.6);display:flex;gap:10px;align-items:center;}
    .pic{flex:1;min-width:40%;max-width:48%}
    .pic img{width:100%;height:auto;border-radius:10px;display:block}
    .msg{flex:1;font-size:14px;line-height:1.35}
    .controls{display:flex;gap:10px;justify-content:center;margin-top:12px}
    .btn{padding:10px 14px;border-radius:10px;border:none;background:rgba(255,255,255,0.06);color:var(--text);font-weight:600}

    /* page 2: full picture + long message */
    .page2{flex-direction:column;gap:12px;padding-top:30px}
    .hero{width:100%;max-width:720px;border-radius:12px;overflow:hidden}
    .hero img{width:100%;height:auto;display:block}
    .longmsg{background:rgba(0,0,0,0.25);padding:12px;border-radius:10px;font-size:15px;line-height:1.5}

    /* hug overlay */
    .hug-overlay{position:fixed;inset:0;background:linear-gradient(0deg, rgba(2,4,11,.8), rgba(2,4,11,.6));display:none;z-index:60;align-items:center;justify-content:center;padding:20px}
    .hug-overlay.show{display:flex}
    .hug-card{background:rgba(255,255,255,0.03);padding:12px;border-radius:12px;text-align:center}
    .hug-card img{width:260px;max-width:90%;height:auto;border-radius:10px}

    /* small screens: try to keep side-by-side but allow wrap */
    @media (max-width:420px){
      .card{flex-direction:row;gap:10px}
      .pic{max-width:46%}
      .msg{font-size:13px}
      .blast-btn{width:100px;height:100px}
    }
    @media (max-width:360px){
      /* if truly small, stack but keep the side-by-side feeling via small image */
      .card{flex-direction:row}
      .pic{max-width:40%}
      .msg{font-size:12px}
    }
  </style>
</head>
<body>
  <!-- Canvas for fireworks animation -->
  <canvas id="fx"></canvas>

  <!-- Audio: replace 'tu_chaie.mp3' with your song file in same folder -->
  <audio id="song" preload="none">
    <source src="song1.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <!-- SCREEN 1: Landing with firecracker button -->
  <main id="screen1" class="screen landing active">
    <div style="max-width:420px;width:100%;">
      <div class="title">âœ¨ Happy New Year âœ¨</div>
      <div class="sub">Tap the firecracker to start the celebration</div>
      <div style="height:22px"></div>
      <div style="display:flex;justify-content:center">
        <button id="blastBtn" class="blast-btn">Firecracker</button>
      </div>
      <div style="height:12px"></div>
    </div>
  </main>

  <!-- SCREEN 1b: After blast show card with picture + short message side-by-side -->
  <section id="screenContent" class="screen" style="flex-direction:column;gap:12px;">
    <div class="card">
      <div class="pic"><img id="pic1" src="image2.jpg" alt="Us (replace us.jpg)"></div>
      <div class="msg">
        <div style="font-weight:700;margin-bottom:8px">To my favorite person,</div>
        <div id="shortMsg">Wishing you a New Year filled with joy, success, and warm memories. May every day bring you closer to the dreams in your heart. Let's make this year unforgettable â€” together.</div>
      </div>
    </div>
    <div class="controls">
      <button id="nextToPage2" class="btn">Next</button>
      <button id="replayBtn" class="btn">Replay Firecracker</button>
    </div>
  </section>

  <!-- SCREEN 2: full hero + long message -->
  <section id="screen2" class="screen page2">
    <div style="width:50%;max-width:500px;display:flex;flex-direction:column;align-items:stretch;">
      <div class="longmsg" id="longMessage">
        <h2 style="margin-top:0">Happy New Year Bacha!</h2>
        <p>
          My dearest â€” as the calendar turns its page, I look back and i see all the funs and memories we had together and ofc the fights we had. But through it all, mere pyar aaur tera dhyan rakhna is just increasing day by day. I feel so lucky to have you in my life and i cherish every momemt we share together. I am sorry mai tujhe khush nai rakh pata and aah that day conversation is still in my mind and tune wo tera rota hua photo bheja tha and you were like why i am getting all these the answer is because of me..Your health is affecting me which i never wanted to happen. I promise to take better care of you and make sure you are always happy and healthy.
        </p>
        <p>
          Thank you for being with me and choosing me every day though i am worst and not making you happy. I promise to make this year better for you and for us. May this year bring us closer together, filled with love, laughter, and endless adventures. I am excited to see what the future holds for us and i know that with you by my side, we can conquer anything.(Dar mat tu mujhse door jana i will never let that happen agar koi bhi aage kuch ho gaya sath mai lad lenge)
        </p>
        <p style="font-weight:700;margin-bottom:0">Signing Off :- Jo tujhe naam dena ho</p>
      </div>

      <div style="display:flex;gap:10px;justify-content:center;margin-top:12px">
        <button id="showHug" class="btn">Next</button>
        <button id="backToStart" class="btn">Back</button>
      </div>
    </div>
  </section>

  <!-- HUG GIF overlay -->
  <div id="hugOverlay" class="hug-overlay">
    <div class="hug-card">
      <div style="font-weight:700;margin-bottom:8px">Big warm hug ðŸ¤—</div>
      <img id="hugGif" src="puuung-hug-puuung.gif" alt="Hug GIF (replace hug.gif)">
      <div style="height:12px"></div>
      <button id="closeHug" class="btn">Close</button>
    </div>
  </div>

  <script>
    // Simple mobile-first navigation
    const screen1 = document.getElementById('screen1');
    const screenContent = document.getElementById('screenContent');
    const screen2 = document.getElementById('screen2');
    const hugOverlay = document.getElementById('hugOverlay');
    const blastBtn = document.getElementById('blastBtn');
    const song = document.getElementById('song');
    const replayBtn = document.getElementById('replayBtn');

    // show/hide helpers
    function show(el){ el.classList.add('active'); }
    function hide(el){ el.classList.remove('active'); }

    // initial state
    show(screen1);

    // Fireworks particles on canvas
    const canvas = document.getElementById('fx');
    const ctx = canvas.getContext('2d');
    let W = canvas.width = window.innerWidth;
    let H = canvas.height = window.innerHeight;
    window.addEventListener('resize', ()=>{ W = canvas.width = window.innerWidth; H = canvas.height = window.innerHeight });

    // Particle system
    class Particle{
      constructor(x,y,color,vel,mass){this.x=x;this.y=y;this.vx=vel.x;this.vy=vel.y;this.alpha=1;this.color=color;this.size=2+Math.random()*3}
      update(){this.vy+=0.02;this.x+=this.vx;this.y+=this.vy;this.alpha-=0.01}
      draw(){ctx.globalAlpha=this.alpha;ctx.fillStyle=this.color;ctx.beginPath();ctx.arc(this.x,this.y,this.size,0,Math.PI*2);ctx.fill();ctx.globalAlpha=1}
    }
    let particles=[];
    function burst(x,y){
      const colors=['#ff4d4d','#ffd166','#06d6a0','#4d8bff','#c77dff','#ff8fab'];
      const count=60+Math.floor(Math.random()*60);
      for(let i=0;i<count;i++){
        const angle=Math.random()*Math.PI*2;const speed=Math.random()*4+1;
        const vel={x:Math.cos(angle)*speed, y:Math.sin(angle)*speed};
        particles.push(new Particle(x,y,colors[Math.floor(Math.random()*colors.length)],vel))
      }
    }
    let animating=false;
    function loop(){
      ctx.clearRect(0,0,W,H);
      for(let i=particles.length-1;i>=0;i--){
        const p=particles[i];p.update();p.draw();if(p.alpha<=0){particles.splice(i,1)}
      }
      if(animating) requestAnimationFrame(loop);
    }

    // Play audio + show content
    function triggerCelebration(){
      // start small fireworks at center
      const cx = W/2; const cy = H/3;
      burst(cx,cy);
      burst(cx-80,cy+40);
      burst(cx+80,cy+40);
      animating=true; loop();
      // play song (user gesture ensured since triggered by click)
      song.currentTime=0; song.play().catch(e=>console.log('audio play blocked',e));
      // show content after a short delay so user sees animation
      hide(screen1); show(screenContent);
    }

    blastBtn.addEventListener('click', ()=>{
      triggerCelebration();
    });

    replayBtn.addEventListener('click', ()=>{
      // replay small fireworks and audio
      const cx = W/2; const cy = H/3; burst(cx,cy); burst(cx-80,cy+40); burst(cx+80,cy+40);
      if(!animating){animating=true; loop()}
      song.currentTime=0; song.play().catch(()=>{});
    });

    // move to page 2
    document.getElementById('nextToPage2').addEventListener('click', ()=>{
      hide(screenContent); show(screen2);
      // optionally pause song
      // song.pause();
      window.scrollTo({top:0,behavior:'smooth'});
    });

    // page2 controls
    document.getElementById('showHug').addEventListener('click', ()=>{
      hugOverlay.classList.add('show');
    });
    document.getElementById('closeHug').addEventListener('click', ()=>{
      hugOverlay.classList.remove('show');
    });
    document.getElementById('backToStart').addEventListener('click', ()=>{
      hide(screen2); show(screen1);
    });

    // Also allow tapping the canvas to create bursts (cute effect)
    canvas.addEventListener('click', (e)=>{
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left; const y = e.clientY - rect.top; burst(x,y);
      if(!animating){animating=true; loop()}
    });

    // touch friendly: create bursts on touchstart
    canvas.addEventListener('touchstart', (e)=>{e.preventDefault();const t=e.touches[0];burst(t.clientX,t.clientY);if(!animating){animating=true; loop()}} , {passive:false});

    // accessibility: if audio file missing, ignore errors
    song.addEventListener('error', ()=>{console.log('audio file missing or cannot be played. Replace tu_chaie.mp3 in the same folder.')});

    // small optimization: stop loop when particles empty
    (function cleanupLoop(){
      setInterval(()=>{
        if(animating && particles.length===0){animating=false; ctx.clearRect(0,0,W,H)}
      },600);
    })();

    // -- Optional: preload images softly (no external urls used so skip)
  </script>
</body>
</html>
